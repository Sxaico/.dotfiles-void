unbind r
bind r source-file ~/.config/tmux/tmux.conf

unbind C-b
set -g prefix C-a
bind C-a send-prefix

# act like vim
set -g mode-keys vi
# bind-key h select-pane -L
# bind-key j select-pane -D
# bind-key k select-pane -U
# bind-key l select-pane -R

# split panes using | and - en el directorio actual
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}" 
unbind '"'
unbind %

# habilitar mouse mode
set -g mouse on

# 256 colors
#set -g default-terminal "tmux-256color"
#set-option -sa terminal-overrides "xterm*:Tc"nvim
set-option -g default-terminal "screen-256color" 
set-option -sa terminal-overrides ",xterm-kitty:RGB"
set-option -g focus-events on

# Poniendo que las ventanas y paneles empiecen en 1 y no en 0

set -g base-index 1
set -g pane-base-index 1
set-window-option -g pane-base-index 1
set-option -g renumber-windows on

# catppuccin tema
set -g @catppuccin_flavor 'mocha'
set -g status-left ""
set -g status-right '#[fg=#{@thm_crust},bg=#{@thm_teal}] session: #S '
# set -g status-right '#[reverse]#[noreverse]%Y-%m-%d %H:%M#[reverse]#[noreverse]'

# Ensure that everything on the right side of the status line
# is included.
set -g status-right-length 100

# Configurando la line de estadi

#set -g pane-border-style fg=red
#set -g pane-active-border-style 'fg=red,bg=white'

set -g pane-border-status off
#set -g pane-border-format '#[bold]#{pane_title}#[default]'

set -g status-position bottom
set -g window-status-current-style 'underscore'
# '#[reverse]#[noreverse]#I #W #F#[reverse]#[noreverse]'
set -g status-justify left
set -g status-left-length 200 # increase length (from 10)
set -g status-right-length 200 # increase length (from 10)
set -g status-style 'bg=#1e1e2e' # lo hace transparente

# Undercurl
# set -g default-terminal "${TERM}"
# set -as terminal-overrides ',*:Smulx=\E[4::%p1%dm'  # undercurl support
# set -as terminal-overrides ',*:Setulc=\E[58::2::%p1%{65536}%/%d::%p1%{256}%/%{255}%&%d::%p1%{255}%&%d%;m'  # underscore colours - needs tmux-3.0

# tokyo-night-tmux
# set -g @tokyo-night-tmux_window_id_style digital
# set -g @tokyo-night-tmux_pane_id_style hsquare
# set -g @tokyo-night-tmux_zoom_id_style dsquare

# Lista de plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'aserowy/tmux.nvim'
#set -g @plugin 'janoamaral/tokyo-night-tmux'
# set -g @plugin 'christoomey/vim-tmux-navigator'

# Aca para arreglar lo de nvim y los env
bind -n 'C-h' if-shell -F "#{@is_vim}" "send-keys C-h"  "select-pane -L"
bind -n 'C-j' if-shell -F "#{@is_vim}" "send-keys C-j"  "select-pane -D"
bind -n 'C-k' if-shell -F "#{@is_vim}" "send-keys C-k"  "select-pane -U"
bind -n 'C-l' if-shell -F "#{@is_vim}" "send-keys C-l"  "select-pane -R"
bind -n 'C-\' if-shell -F "#{@is_vim}" "send-keys 'C-\\'" "select-pane -l"

run ~/.config/tmux/plugins/catppuccin/tmux/catppuccin.tmux
# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'
